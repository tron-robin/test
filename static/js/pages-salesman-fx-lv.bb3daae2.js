(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-salesman-fx-lv"],{"2c5b":function(t,e,i){var a=i("981e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("c979ad22",a,!0,{sourceMap:!1,shadowMode:!1})},3938:function(t,e,i){"use strict";i.r(e);var a=i("61dd"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"61dd":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=uni.vk,n={data:function(){return{lvInfo:{name:"获取中...",get_time:0},nextLevelInfo:{},data:{mchInfo:{},total_share_1:0,total_per_1:0,sumNotReceiptAmount:0,total_order_amount:0,total_recharge_amount:0},scrollTop:0,loading:!1,complete:!1}},onPageScroll:function(t){this.scrollTop=t.scrollTop},onLoad:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a=uni.vk,this.options=t,this.init(t)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(t){this.getMyInfo()},getMyInfo:function(){var t=this;a.callFunction({url:"client/salesman.getMyFxLvInfo",success:function(e){t.data=e,e.mchInfo&&a.setVuex("$user.mchInfo",e.mchInfo);var i=e.userInfo,n=void 0===i?{}:i,s=a.getVuex("$user.mchInfo.fx.level_rule"),l=n.fx.lv;t.lvInfo=a.pubfn.getListItem(s,"lv",l),t.nextLevelInfo=a.pubfn.getListItem(s,"lv",l+1),t.complete=!0}})},upgradeLv:function(t){var e=this;a.callFunction({url:"client/salesman.upgradeLv",title:"请求中...",data:{lv:t},success:function(t){a.alert(t.msg,"提示"),e.getMyInfo()}})},diffFn:function(t){var e=0,i=(this.vk,this.nextLevelInfo);if(i&&i.name){var a=this.data[t];e=i[t]-a,e<0&&(e=0)}return e},percentFn:function(t){var e=0,i=this.vk,a=this.nextLevelInfo;if(a&&a.name){var n=this.data[t];e=i.pubfn.toDecimal(n/a[t]*100,2),e<0&&(e=0),e>100&&(e=100)}return e},vipNameFn:function(t){var e=a.getVuex("$user.mchInfo.vip_level_rule"),i=a.pubfn.getListItem(e,"lv",t)||{};return i.name},minVipLvPercent:function(t){var e=a.getVuex("$user.userInfo.vip_lv");return e>=t?100:0}},watch:{},computed:{isHaveCom:function(){return a.getVuex("$user.userInfo.vip_lv")>0},isUpgrade:function(){var t=this.nextLevelInfo,e=void 0===t?{}:t;if(1===e.upgrade_mode){var i=this.minVipLvPercent(e.min_vip_lv);return 100==i}var a=!1,n=!1,s=!1,l=this.percentFn("total_recharge_amount"),v=this.percentFn("total_order_amount"),o=this.percentFn("total_per_1"),r=this.percentFn("total_share_1");return 100!==l&&100!==v||(a=!0),100===o&&(n=!0),100===r&&(s=!0),!!(a&&n&&s)},isMaxLv:function(){var t=this.vk,e=this.nextLevelInfo;return!t.pubfn.isNotNull(e)},upgradeTextCom:function(){return a.getVuex("$user.userInfo.vip_lv")>0?"升级":"领取"}}};e.default=n},"95e2":function(t,e,i){"use strict";var a=i("2c5b"),n=i.n(a);n.a},"981e":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".app[data-v-fb1fe7aa]{--bgcolor:#333}.vip-card[data-v-fb1fe7aa]{background-color:#b9c3d5;width:80%;margin:%?0?% auto;height:%?260?%;border-radius:%?20?%;position:relative;padding:%?30?%;overflow:hidden;box-shadow:%?2?% %?6?% %?4?% %?6?% #b9c3d5;color:#3a4b6c}.vip-card .name[data-v-fb1fe7aa]{margin-top:%?40?%;font-size:%?40?%;font-weight:700}.vip-card .nickname[data-v-fb1fe7aa]{margin-top:%?20?%;font-size:%?24?%}.vip-card .add-time[data-v-fb1fe7aa]{font-size:%?24?%;text-align:right}.vip-card .add-time .time-text[data-v-fb1fe7aa]{min-width:%?140?%;display:inline-block}.vip-card .vip-bg[data-v-fb1fe7aa]{position:absolute;right:%?-15?%;top:%?-15?%;font-size:%?80?%;font-weight:700;color:#fff;opacity:.3}.vip-explain[data-v-fb1fe7aa]{width:90%;margin:%?60?% auto 0 auto;background-color:#fff;border-radius:%?20?%;padding:%?30?%}.vip-explain .cell-box[data-v-fb1fe7aa]{display:flex;padding:%?20?% 0}.vip-explain .cell-box .title[data-v-fb1fe7aa]{width:%?160?%;font-weight:700;font-size:%?30?%}.vip-explain .cell-box .text[data-v-fb1fe7aa]{flex:1;font-weight:700;color:var(--main)}.vip-explain .list[data-v-fb1fe7aa]{background-color:#f7f9fd;margin:10px 0;padding:%?20?%;border-radius:%?20?%;overflow:hidden}.vip-explain .list .list-title[data-v-fb1fe7aa]{font-size:%?34?%;font-weight:700}.vip-explain .list .list-item[data-v-fb1fe7aa]{display:flex;margin-top:%?50?%;align-items:center}.vip-explain .list .list-item .list-item-text[data-v-fb1fe7aa]{flex:1;margin-left:%?30?%}.vip-explain .list .list-item .list-item-text .item-title[data-v-fb1fe7aa]{font-weight:700;font-size:%?34?%}.vip-explain .list .list-item .list-item-text .item-describe[data-v-fb1fe7aa]{margin-top:%?6?%;font-size:%?26?%;color:#9d9d9d}.vip-explain .list .list-item .list-item-text .item-amount[data-v-fb1fe7aa]{margin-top:%?6?%;font-size:%?26?%;color:#9d9d9d}.vip-explain .list .list-item .list-item-text .sum-not-receipt-amount[data-v-fb1fe7aa]{margin-top:%?6?%;font-size:%?24?%;color:#9d9d9d}.vip-explain .list .list-item[data-v-fb1fe7aa]:first-child{margin-top:%?0?%}.receive-btn[data-v-fb1fe7aa]{background:linear-gradient(90deg,#f8e4c3,#e5c38c);border-radius:%?40?%;width:90%;margin:%?40?% auto;color:#624520;padding:%?24?%;font-weight:700;text-align:center;letter-spacing:%?2?%}.receive-btn[data-v-fb1fe7aa]:active{opacity:.7}",""]),t.exports=e},beba:function(t,e,i){"use strict";i.r(e);var a=i("df2e"),n=i("3938");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("95e2");var l=i("f0c5"),v=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"fb1fe7aa",null,!1,a["a"],void 0);e["default"]=v.exports},df2e:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={uIcon:i("d1bb").default,uCircleProgress:i("e84f").default,vkDataFloatBall:i("80c3").default,vkDataLoading:i("be34").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"app app-bg"},[i("v-uni-view",{staticStyle:{height:"30rpx"}}),i("v-uni-view",{staticClass:"vip-card"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(t.lvInfo.name))]),t.isHaveCom?i("v-uni-view",{staticClass:"nickname"},[t._v("所属人："+t._s(t.vk.getVuex("$user.userInfo.nickname")))]):t._e(),i("v-uni-view",{staticClass:"vip-bg"},[t._v("分销等级")])],1),t.complete&&t.nextLevelInfo&&t.nextLevelInfo.name?i("v-uni-view",{staticClass:"vip-explain"},[i("v-uni-view",{staticClass:"cell-box"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.upgradeTextCom))]),i("v-uni-view",{staticClass:"text"},[t._v(t._s(t.nextLevelInfo.name)+" 条件")])],1),i("v-uni-view",{staticClass:"cell-box"},[i("v-uni-view",{staticClass:"title"}),i("v-uni-view",{staticClass:"text"},[t._v("以下条件需全部满足"),i("v-uni-text",[t._v(t._s(t.isUpgrade?"（已全部达标）":"（未全部达标）"))])],1)],1),1===t.nextLevelInfo.upgrade_mode?i("v-uni-view",[t.nextLevelInfo&&t.nextLevelInfo.name?i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-title"},[t._v("条件："+t._s(100==t.minVipLvPercent(t.nextLevelInfo.min_vip_lv)?"（已达标）":"（未达标）"))]),i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-quanyi",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("最低VIP等级要求")]),i("v-uni-view",{staticClass:"item-amount"},[t._v("达到 "+t._s(t.vipNameFn(t.nextLevelInfo.min_vip_lv)))])],1),i("u-circle-progress",{attrs:{type:"success",percent:t.minVipLvPercent(t.nextLevelInfo.min_vip_lv),"bg-color":"#f7f9fd",width:"130","border-width":"10"}},[i("v-uni-view",{staticClass:"u-progress-content"},[i("v-uni-view",{staticClass:"u-progress-dot"}),i("v-uni-text",{staticClass:"u-progress-info"},[t._v(t._s(t.minVipLvPercent(t.nextLevelInfo.min_vip_lv))+"%")])],1)],1)],1)],1):t._e()],1):i("v-uni-view",{staticClass:"vk-contents"},[t.nextLevelInfo&&t.nextLevelInfo.name?i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-title"},[t._v("条件1："+t._s(100==t.percentFn("total_recharge_amount")||100==t.percentFn("total_order_amount")?"（已达标）":"（未达标）")+"（二选一即可）")]),t.nextLevelInfo.total_recharge_amount>0?i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-jine",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("累计充值余额")]),i("v-uni-view",{staticClass:"item-amount"},[t._v(t._s(t.$fn.priceFilter(t.nextLevelInfo.total_recharge_amount))),t.diffFn("total_recharge_amount")>0?i("v-uni-text",[t._v("（差"+t._s(t.diffFn("total_recharge_amount"))+"）")]):t._e()],1)],1),i("u-circle-progress",{attrs:{type:"success",percent:t.percentFn("total_recharge_amount"),"bg-color":"#f7f9fd",width:"130","border-width":"10"}},[i("v-uni-view",{staticClass:"u-progress-content"},[i("v-uni-view",{staticClass:"u-progress-dot"}),i("v-uni-text",{staticClass:"u-progress-info"},[t._v(t._s(t.percentFn("total_recharge_amount"))+"%")])],1)],1)],1):t._e(),t.nextLevelInfo.total_order_amount>0?i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-gouwuche",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("累计消费金额")]),i("v-uni-view",{staticClass:"item-amount"},[t._v(t._s(t.$fn.priceFilter(t.nextLevelInfo.total_order_amount))),t.diffFn("total_order_amount")>0?i("v-uni-text",[t._v("（差"+t._s(t.vk.pubfn.priceFilter(t.diffFn("total_order_amount")))+"）")]):t._e()],1),t.data.sumNotReceiptAmount>0?i("v-uni-view",{staticClass:"sum-not-receipt-amount"},[t._v("您有 "+t._s(t.$fn.priceFilter(t.data.sumNotReceiptAmount))+" 未确认收货")]):t._e(),t.data.sumNotReceiptAmount>0?i("v-uni-view",{staticClass:"sum-not-receipt-amount"},[t._v("确认收货后才计入消费金额")]):t._e()],1),i("u-circle-progress",{attrs:{type:"success",percent:t.percentFn("total_order_amount"),"bg-color":"#f7f9fd",width:"130","border-width":"10"}},[i("v-uni-view",{staticClass:"u-progress-content"},[i("v-uni-view",{staticClass:"u-progress-dot"}),i("v-uni-text",{staticClass:"u-progress-info"},[t._v(t._s(t.percentFn("total_order_amount"))+"%")])],1)],1)],1):t._e()],1):t._e(),t.nextLevelInfo&&t.nextLevelInfo.name?i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-title"},[t._v("条件2："+t._s(100==t.percentFn("total_per_1")?"（已达标）":"（未达标）"))]),t.nextLevelInfo.total_per_1>0?i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-shouyi",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("直推业绩")]),i("v-uni-view",{staticClass:"item-amount"},[t._v(t._s(t.$fn.priceFilter(t.nextLevelInfo.total_per_1))),t.diffFn("total_per_1")>0?i("v-uni-text",[t._v("（差"+t._s(t.vk.pubfn.priceFilter(t.diffFn("total_per_1")))+"）")]):t._e()],1)],1),i("u-circle-progress",{attrs:{type:"success",percent:t.percentFn("total_per_1"),"bg-color":"#f7f9fd",width:"130","border-width":"10"}},[i("v-uni-view",{staticClass:"u-progress-content"},[i("v-uni-view",{staticClass:"u-progress-dot"}),i("v-uni-text",{staticClass:"u-progress-info"},[t._v(t._s(t.percentFn("total_per_1"))+"%")])],1)],1)],1):t._e()],1):t._e(),t.nextLevelInfo&&t.nextLevelInfo.name?i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-title"},[t._v("条件3："+t._s(100==t.percentFn("total_share_1")?"（已达标）":"（未达标）"))]),t.nextLevelInfo.total_share_1>0?i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-pintuan",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("直推人数")]),i("v-uni-view",{staticClass:"item-amount"},[t._v(t._s(t.nextLevelInfo.total_share_1)+" 人"),t.diffFn("total_share_1")>0?i("v-uni-text",[t._v("（差 "+t._s(t.diffFn("total_share_1"))+" 人）")]):t._e()],1)],1),i("u-circle-progress",{attrs:{type:"success",percent:t.percentFn("total_share_1"),"bg-color":"#f7f9fd",width:"130","border-width":"10"}},[i("v-uni-view",{staticClass:"u-progress-content"},[i("v-uni-view",{staticClass:"u-progress-dot"}),i("v-uni-text",{staticClass:"u-progress-info"},[t._v(t._s(t.percentFn("total_share_1"))+"%")])],1)],1)],1):t._e()],1):t._e()],1)],1):t._e(),t.complete?[t.isMaxLv?i("v-uni-view",{staticClass:"receive-btn"},[t._v("恭喜您已达到最高级别")]):t.isUpgrade?i("v-uni-view",{staticClass:"receive-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upgradeLv(t.nextLevelInfo.lv)}}},[t._v("立即"+t._s(t.upgradeTextCom)+"为 "+t._s(t.nextLevelInfo.name))]):i("v-uni-view",{staticClass:"receive-btn"},[t._v("不满足升级条件")])]:t._e(),t.complete?i("v-uni-view",{staticClass:"vip-explain"},[i("v-uni-view",{staticClass:"cell-box"},[i("v-uni-view",{staticClass:"text",staticStyle:{width:"100%"}},[t._v(t._s(t.lvInfo.name)+" 权益（您当前等级）")])],1),i("v-uni-view",{staticClass:"list"},[t.lvInfo.share_reward_1?i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-shouyi",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("直推佣金")]),i("v-uni-view",{staticClass:"item-describe"},[t._v("获取倍率 * "+t._s(t.lvInfo.share_reward_1))])],1)],1):t._e(),t.lvInfo.share_reward_2?i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-shouyi",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("间推佣金")]),i("v-uni-view",{staticClass:"item-describe"},[t._v("获取倍率 * "+t._s(t.lvInfo.share_reward_2))])],1)],1):t._e()],1)],1):t._e(),t.complete&&t.nextLevelInfo&&t.nextLevelInfo.name?i("v-uni-view",{staticClass:"vip-explain"},[i("v-uni-view",{staticClass:"cell-box"},[i("v-uni-view",{staticClass:"text",staticStyle:{width:"100%"}},[t._v(t._s(t.nextLevelInfo.name)+" 权益（下一级）")])],1),i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-shouyi",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("直推佣金")]),i("v-uni-view",{staticClass:"item-describe"},[t._v("获取倍率 * "+t._s(t.nextLevelInfo.share_reward_1))])],1)],1),i("v-uni-view",{staticClass:"list-item"},[i("u-icon",{attrs:{name:"vk-mall-icon-shouyi",size:"80"}}),i("v-uni-view",{staticClass:"list-item-text"},[i("v-uni-view",{staticClass:"item-title"},[t._v("间推佣金")]),i("v-uni-view",{staticClass:"item-describe"},[t._v("获取倍率 * "+t._s(t.nextLevelInfo.share_reward_2))])],1)],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"safe-area-inset-bottom",staticStyle:{height:"20rpx",display:"block"}}),i("vk-data-float-ball",{attrs:{"scroll-top":t.scrollTop}}),i("vk-data-loading",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],2)},s=[]}}]);