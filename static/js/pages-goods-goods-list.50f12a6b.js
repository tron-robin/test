(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-goods-list"],{"095b":function(t,e,i){"use strict";i.r(e);var o=i("f97a"),a=i.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},"0e7e":function(t,e,i){"use strict";i.r(e);var o=i("474a"),a=i("13b6");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("1826");var r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"8dd52f22",null,!1,o["a"],void 0);e["default"]=l.exports},"13b6":function(t,e,i){"use strict";i.r(e);var o=i("2446"),a=i.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},"13ef":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".vk-mall-goods-list-box[data-v-634b90ff]{width:100%;background-color:var(--bgcolor);padding:%?20?%;display:grid;grid-template-columns:repeat(2,1fr);grid-gap:%?20?%}",""]),t.exports=e},1826:function(t,e,i){"use strict";var o=i("ca20"),a=i.n(o);a.a},2038:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var o={name:"vk-data-loading",emits:["update:modelValue","input"],props:{value:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},title:{type:String,default:""},mask:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0,0,0,0)"},timeout:{type:Number,default:30},image:{type:String,default:"/static/loading.gif"},top:{type:String,default:"40vh"},zIndex:{type:[String,Number],default:99999999},delayTime:{type:[String,Number],default:500},showImage:{type:Boolean,default:!0},imageStyle:{type:[String,Object]},titleStyle:{type:[String,Object]}},data:function(){return{loadingImage:!1}},created:function(){var t=this;t.timeout>0&&(t._timer=setTimeout((function(){t.valueCom&&(t.$emit("input",!1),t.$emit("update:modelValue",!1),uni.showToast({title:"加载超时，请重试",icon:"none"}))}),1e3*t.timeout))},destroyed:function(){this._timer&&clearTimeout(this._timer),this._loadingImageTimer&&clearTimeout(this._loadingImageTimer)},methods:{stopPrevent:function(){},showLoading:function(){var t=this;Number(t.delayTime)>0&&(t.loadingImage=!1),t._loadingImageTimer=setTimeout((function(){t.loadingImage=!0}),Number(t.delayTime))}},watch:{valueCom:{handler:function(t){t?this.showLoading():(this._timer&&clearTimeout(this._timer),this._loadingImageTimer&&clearTimeout(this._loadingImageTimer))},immediate:!0}},computed:{valueCom:function(){return this.value},styleCom:function(){var t={},e=this.zIndex;return e&&(t.zIndex=e),t},maskBackgroundColorCom:function(){var t=this.delayTime,e=this.maskBackgroundColor,i=this.loadingImage;return Number(t)?i?e:"rgba(0,0,0,0)":e}}};e.default=o},2446:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"u-line",props:{color:{type:String,default:"#e4e7ed"},length:{type:String,default:"100%"},direction:{type:String,default:"row"},hairLine:{type:Boolean,default:!0},margin:{type:String,default:"0"},borderStyle:{type:String,default:"solid"}},computed:{lineStyle:function(){var t={};return t.margin=this.margin,"row"==this.direction?(t.borderBottomWidth="1px",t.borderBottomStyle=this.borderStyle,t.width=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleY(0.5)")):(t.borderLeftWidth="1px",t.borderLeftStyle=this.borderStyle,t.height=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleX(0.5)")),t.borderColor=this.color,t}}};e.default=o},2697:function(t,e,i){"use strict";i.r(e);var o=i("8ce0"),a=i.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},3616:function(t,e,i){var o=i("13ef");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("568fa2e4",o,!0,{sourceMap:!1,shadowMode:!1})},3728:function(t,e,i){"use strict";i.r(e);var o=i("c4f1"),a=i("3a51");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("c019");var r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"634b90ff",null,!1,o["a"],void 0);e["default"]=l.exports},"3a51":function(t,e,i){"use strict";i.r(e);var o=i("91b9"),a=i.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},"41c0":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".vk-mall-goods-list-item[data-v-3e3341b0]{border-radius:%?20?%;background-color:#fff;overflow:hidden}.vk-mall-goods-list-item .image[data-v-3e3341b0]{text-align:center}.vk-mall-goods-list-item .image uni-image[data-v-3e3341b0]{width:100%;height:%?345?%;display:block}.vk-mall-goods-list-item .title[data-v-3e3341b0]{padding:%?20?%;font-size:%?26?%;line-height:%?40?%;height:%?120?%}.vk-mall-goods-list-item .footer[data-v-3e3341b0]{padding:0 %?20?% %?20?% %?20?%;display:flex}.vk-mall-goods-list-item .footer .price-info[data-v-3e3341b0]{flex:1;color:var(--main)}.vk-mall-goods-list-item .footer .price-info .price-icon[data-v-3e3341b0]{font-size:%?24?%}.vk-mall-goods-list-item .footer .price-info .price-text[data-v-3e3341b0]{font-size:%?32?%}",""]),t.exports=e},4440:function(t,e,i){"use strict";var o=i("8f49"),a=i.n(o);a.a},"474a":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var o=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"u-line",style:[this.lineStyle]})},a=[]},4815:function(t,e,i){"use strict";i.r(e);var o=i("5cc8"),a=i("2697");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);var r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"9737cad0",null,!1,o["a"],void 0);e["default"]=l.exports},4885:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.valueCom?i("v-uni-view",{staticClass:"vk-data-loading",style:t.styleCom},[t.mask?i("v-uni-view",{staticClass:"mask",style:{backgroundColor:t.maskBackgroundColorCom},on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.stopPrevent.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.stopPrevent.apply(void 0,arguments)}}}):t._e(),t.loadingImage||0==Number(t.delayTime)?i("v-uni-view",{staticClass:"loading",style:{top:t.top}},[t.showImage?i("v-uni-image",{staticClass:"image",style:t.imageStyle,attrs:{src:t.image}}):t._e(),i("v-uni-view",{staticClass:"text",style:t.titleStyle},[t._v(t._s(t.title))])],1):t._e()],1):t._e()},a=[]},"4ddd":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));var o={uIcon:i("d1bb").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"vk-mall-goods-list-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"image"},[i("v-uni-image",{attrs:{src:t.item.goods_thumb,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"u-line-2"},[t._v(t._s(t.item.name))])],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"price-info"},[i("v-uni-text",{staticClass:"price-icon"},[t._v("¥")]),i("v-uni-text",{staticClass:"price-text"},[t._v(t._s(t.salePriceFn(t.item)))])],1),i("v-uni-view",{staticClass:"cart",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.cart.apply(void 0,arguments)}}},[i("u-icon",{attrs:{type:"circle",size:"42",name:"vk-mall-icon-gouwuche"}})],1)],1)],1)},n=[]},"5cc8":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));var o={vkMallGoodsList:i("3728").default,vkDataFloatBall:i("80c3").default,vkDataLoading:i("be34").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"app app-bg"},[i("vk-mall-goods-list",{ref:"goodsList",attrs:{action:t.action,"action-data":t.options}}),i("vk-data-float-ball",{attrs:{"scroll-top":t.scrollTop}}),i("vk-data-loading",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},n=[]},"65cf":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".u-load-more-wrap[data-v-54e317ae]{display:flex;flex-direction:row;justify-content:center;align-items:center}.u-load-more-inner[data-v-54e317ae]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 %?12?%}.u-more[data-v-54e317ae]{position:relative;display:flex;flex-direction:row;justify-content:center}.u-dot-text[data-v-54e317ae]{font-size:%?28?%}.u-loadmore-icon-wrap[data-v-54e317ae]{margin-right:%?8?%}.u-loadmore-icon[data-v-54e317ae]{display:flex;flex-direction:row;align-items:center;justify-content:center}",""]),t.exports=e},"689f":function(t,e,i){var o=i("93cd");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("697770f2",o,!0,{sourceMap:!1,shadowMode:!1})},7943:function(t,e,i){"use strict";i.r(e);var o=i("4ddd"),a=i("095b");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("4440");var r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"3e3341b0",null,!1,o["a"],void 0);e["default"]=l.exports},"849f":function(t,e,i){var o=i("65cf");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("2166743d",o,!0,{sourceMap:!1,shadowMode:!1})},"8ce0":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;uni.vk;var o={data:function(){return{action:"client/pub.getGoodsList",options:{},data:{},form1:{},loading:!1,scrollTop:0}},onPageScroll:function(t){this.scrollTop=t.scrollTop},onLoad:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};uni.vk,this.options=t,this.init(t)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(t){t||(t=this.options),console.log("init: ",t),t.coupon_id&&uni.setNavigationBarTitle({title:"优惠券可用商品"})}},watch:{},computed:{}};e.default=o},"8f49":function(t,e,i){var o=i("41c0");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("af72b212",o,!0,{sourceMap:!1,shadowMode:!1})},"91b9":function(t,e,i){"use strict";i("7a82");var o=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("f3f3"));i("e9c4"),i("99af"),i("ac1f"),i("841c");var n={name:"vk-mall-goods-list",props:{localdata:{Type:Array},action:{Type:String},actionData:{Type:Object}},data:function(){return{data:{list:[],total:"-",hasMore:!0},queryForm:{pagination:{pageIndex:1,pageSize:20},formData:{category_ids:"",name:"",keywords:"",is_on_sale:!0,coupon_id:""},columns:[{key:"category_ids",mode:"="},{key:"name",mode:"%%"},{key:"keywords",mode:"%%"},{key:"is_on_sale",mode:"="},{key:"coupon_id",mode:"custom"}],sortRule:[{name:"sort",type:"asc"}]},state:{loadmore:"loading"},loading:!1,skuPopup:{show:!1,mode:1,goods:{}}}},mounted:function(){this.init()},methods:{init:function(){var t=this.vk,e=this.action,i=this.actionData;if(e){var o=JSON.stringify(i),a="pub-".concat(e,"-").concat(o),n=t.getStorageSync(a);n&&(this.data.list=n,this.loading=!1),this.search({success:function(e){t.setStorageSync(a,e.list)}})}},showCart:function(t){this.skuPopup.show=!0,this.skuPopup.goods=t},pageToDetail:function(t){this.vk.myfn.goods.pageToDetail(t)},search:function(t){this.queryForm.pagination.pageIndex=1,this.data.pageKey=!0,this.getList(t)},getList:function(t){var e=this.vk,i=this.action,o=this.actionData;this.actionTitle;e.pubfn.objectAssign(this.queryForm.formData,o),i&&e.pubfn.getListData2((0,a.default)((0,a.default)({},t),{},{that:this,url:i}))},nextPage:function(){"loadmore"==this.state.loadmore&&(this.state.loadmore="loading",this.queryForm.pagination.pageIndex++,this.getList())}},watch:{},computed:{listCom:function(){var t=this.localdata,e=void 0===t?[]:t,i=this.action,o=this.data,a=void 0===o?{}:o;return i?a.list:e}}};e.default=n},"93cd":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".vk-data-loading[data-v-3e593c34]{position:fixed;left:0;top:0;width:0;height:0;z-index:99999999;display:flex;width:100vw;height:100vh;justify-content:center}.mask[data-v-3e593c34]{position:fixed;left:0;top:0;right:0;bottom:0}.loading[data-v-3e593c34]{position:relative}.loading .image[data-v-3e593c34]{padding:%?20?%;width:%?140?%;height:%?140?%;display:block;margin-left:auto;margin-right:auto}.loading .text[data-v-3e593c34]{color:#7e7e7e;text-align:center;margin-top:%?10?%;font-size:%?28?%}",""]),t.exports=e},"9d7f":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".u-line[data-v-8dd52f22]{vertical-align:middle}",""]),t.exports=e},a98d:function(t,e,i){"use strict";i.r(e);var o=i("aaa2"),a=i.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},aaa2:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var o={name:"u-loadmore",emits:["loadmore"],props:{bgColor:{type:String,default:"transparent"},icon:{type:Boolean,default:!0},fontSize:{type:String,default:"28"},color:{type:String,default:"#606266"},status:{type:String,default:"loadmore"},iconType:{type:String,default:"circle"},loadText:{type:Object,default:function(){return{loadmore:"加载更多",loading:"正在加载...",nomore:"没有更多了"}}},isDot:{type:Boolean,default:!1},iconColor:{type:String,default:"#b7b7b7"},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0},height:{type:[String,Number],default:"auto"}},data:function(){return{dotText:"●"}},computed:{loadTextStyle:function(){return{color:this.color,fontSize:this.fontSize+"rpx",position:"relative",zIndex:1,backgroundColor:this.bgColor}},cricleStyle:function(){return{borderColor:"#e5e5e5 #e5e5e5 #e5e5e5 ".concat(this.circleColor)}},flowerStyle:function(){return{}},showText:function(){var t="";return t="loadmore"==this.status?this.loadText.loadmore:"loading"==this.status?this.loadText.loading:"nomore"==this.status&&this.isDot?this.dotText:this.loadText.nomore,t}},methods:{loadMore:function(){"loadmore"==this.status&&this.$emit("loadmore")}}};e.default=o},b9d5:function(t,e,i){"use strict";i.r(e);var o=i("2038"),a=i.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);e["default"]=a.a},be34:function(t,e,i){"use strict";i.r(e);var o=i("4885"),a=i("b9d5");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("eae4");var r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"3e593c34",null,!1,o["a"],void 0);e["default"]=l.exports},c019:function(t,e,i){"use strict";var o=i("3616"),a=i.n(o);a.a},c4f1:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));var o={vkMallGoodsListItem:i("7943").default,uLoadmore:i("fe05").default,vkMallGoodsSkuPopup:i("b814").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"vk-mall-goods-list"},[i("v-uni-view",{staticClass:"vk-mall-goods-list-box"},t._l(t.listCom,(function(e,o){return i("vk-mall-goods-list-item",{key:e._id,attrs:{item:e},on:{cart:function(e){arguments[0]=e=t.$handleEvent(e),t.showCart.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.pageToDetail.apply(void 0,arguments)}}})})),1),t.action?i("v-uni-view",{staticStyle:{padding:"30rpx 0"}},[i("u-loadmore",{attrs:{status:t.state.loadmore,"bg-color":"var(--bgcolor)"},on:{loadmore:function(e){arguments[0]=e=t.$handleEvent(e),t.nextPage.apply(void 0,arguments)}}})],1):t._e(),i("vk-mall-goods-sku-popup",{attrs:{"goods-info":t.skuPopup.goods,mode:t.skuPopup.mode},model:{value:t.skuPopup.show,callback:function(e){t.$set(t.skuPopup,"show",e)},expression:"skuPopup.show"}})],1)},n=[]},ca20:function(t,e,i){var o=i("9d7f");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("f29e7e88",o,!0,{sourceMap:!1,shadowMode:!1})},d700:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));var o={uLine:i("0e7e").default,uLoading:i("b709").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-load-more-wrap",style:{backgroundColor:t.bgColor,marginBottom:t.marginBottom+"rpx",marginTop:t.marginTop+"rpx",height:t.$u.addUnit(t.height)}},[i("u-line",{attrs:{color:"#d4d4d4",length:"50"}}),i("v-uni-view",{staticClass:"u-load-more-inner",class:"loadmore"==t.status||"nomore"==t.status?"u-more":""},[i("v-uni-view",{staticClass:"u-loadmore-icon-wrap"},[i("u-loading",{staticClass:"u-loadmore-icon",attrs:{color:t.iconColor,mode:"circle"==t.iconType?"circle":"flower",show:"loading"==t.status&&t.icon}})],1),i("v-uni-view",{staticClass:"u-line-1",class:["nomore"==t.status&&1==t.isDot?"u-dot-text":"u-more-text"],style:[t.loadTextStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}},[t._v(t._s(t.showText))])],1),i("u-line",{attrs:{color:"#d4d4d4",length:"50"}})],1)},n=[]},dee6:function(t,e,i){"use strict";var o=i("849f"),a=i.n(o);a.a},eae4:function(t,e,i){"use strict";var o=i("689f"),a=i.n(o);a.a},f97a:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("d81d");var o={name:"vk-mall-goods-list-item",props:{item:{Type:Object,default:function(){return{}}}},data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){},cart:function(){this.vk;var t=this.item;this.$emit("cart",t)},click:function(){this.vk;var t=this.item;this.$emit("click",t)},salePriceFn:function(t){var e=this.vk,i="";if(t.sku_list&&t.sku_list.length>0){var o=Number.MAX_VALUE,a=0;t.sku_list.map((function(t,e){t.price<o&&(o=t.price),t.price>a&&(a=t.price)})),i="".concat(e.pubfn.priceFilter(o))}return i}},watch:{},computed:{}};e.default=o},fe05:function(t,e,i){"use strict";i.r(e);var o=i("d700"),a=i("a98d");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("dee6");var r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"54e317ae",null,!1,o["a"],void 0);e["default"]=l.exports}}]);