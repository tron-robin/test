(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activity-comment"],{"0307":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d3b7"),i("159b"),i("14d9");var n=uni.vk,o={data:function(){return{form1:{score:5,content:"",images:[]},loading:!1,orderInfo:{},scrollTop:0,complete:!1,del_icon:"https://mp-1e0acd55-7819-4fee-982a-70fb396d7ffa.cdn.bspapp.com/images/icon_order_pic_del@3x.png",default_score:"https://mp-1e0acd55-7819-4fee-982a-70fb396d7ffa.cdn.bspapp.com/images/circle-default-star.png",score:"https://mp-1e0acd55-7819-4fee-982a-70fb396d7ffa.cdn.bspapp.com/images/circle-star.png",add_img_icon:"https://mp-1e0acd55-7819-4fee-982a-70fb396d7ffa.cdn.bspapp.com/images/img_add@3x.png",remarkCustomStyle:{width:"600rpx",height:"480rpx",fontSize:"28rpx"}}},onPageScroll:function(t){this.scrollTop=t.scrollTop},onPullDownRefresh:function(){this.init(this.options),setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){},onLoad:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=uni.vk,this.options=t,this.init(t)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{clickScore:function(t){this.form1.score=t,console.log(t,"===========",t)},setScore:function(t,e){console.log(this.form1,"================"),console.log(t,"+++++++++++++++",e,"==========",this.form1),1==e?this.form1.score=t+1:this.form1.score+=t+1,console.log(this.form1,"####################")},init:function(){var t=this,e=this;n.callFunction({url:"client/order.getInfo",loading:!0,data:{_id:this.options._id},success:function(i){e.orderInfo=i.orderInfo,t.complete=!0}})},uploadImage:function(){var t=this;uni.chooseImage({count:9-t.form1.images.length,success:function(e){var i=e.tempFilePaths;i.forEach((function(e){n.uploadFile({title:"上传中...",filePath:e,suffix:"png",success:function(e){t.form1.images.push(e.url)}})}))}})},submit:function(){var t=this;this.form1;if(n.pubfn.isNull(this.form1.content)||this.form1.content.length<2)n.toast("评论内容不能小于2个字");else{var e=[],i={goods_id:this.orderInfo.goods_id,goods_name:this.orderInfo.goods_info.name,content:this.form1.content,images:this.form1.images,stars:this.form1.score};e.push(i),n.callFunction({url:"client/order.addComment",loading:!0,data:{_id:this.options._id,list:e},success:function(e){var i=t.getOpenerEventChannel();i.emit&&i.emit("update_order_msg",{status:6}),n.alert("提交成功",(function(){setTimeout((function(){n.navigateBack()}),300)}))}})}}},watch:{},computed:{}};e.default=o},1424:function(t,e,i){var n=i("f33a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("398a7ebb",n,!0,{sourceMap:!1,shadowMode:!1})},"28e7":function(t,e,i){"use strict";i.r(e);var n=i("76ac"),o=i("3c9b");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("70c6");var r=i("f0c5"),l=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"119a773c",null,!1,n["a"],void 0);e["default"]=l.exports},"3c9b":function(t,e,i){"use strict";i.r(e);var n=i("0307"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"64c8":function(t,e,i){"use strict";i.r(e);var n=i("cbfc"),o=i("75ed");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("d186");var r=i("f0c5"),l=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"f16159f4",null,!1,n["a"],void 0);e["default"]=l.exports},7003:function(t,e,i){"use strict";i("7a82");var n=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("d81d"),i("b64b"),i("498a");var o=n(i("c818")),a={name:"u-input",emits:["update:modelValue","input","change","blur","focus","click","touchstart"],mixins:[o.default],props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},inputAlign:{type:String,default:""},placeholder:{type:String,default:"请输入内容"},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},placeholderStyle:{type:String,default:"color: #c0c4cc;"},confirmType:{type:String,default:"done"},customStyle:{type:Object,default:function(){return{}}},fixed:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},passwordIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!1},borderColor:{type:String,default:"#dcdfe6"},autoHeight:{type:Boolean,default:!0},selectOpen:{type:Boolean,default:!1},height:{type:[Number,String],default:""},clearable:{type:[Boolean,String]},cursorSpacing:{type:[Number,String],default:0},selectionStart:{type:[Number,String],default:-1},selectionEnd:{type:[Number,String],default:-1},trim:{type:Boolean,default:!0},showConfirmbar:{type:Boolean,default:!0},adjustPosition:{type:Boolean,default:!0},backgroundColor:{type:String},padding:{type:String}},data:function(){return{defaultValue:"",inputHeight:70,textareaHeight:242,validateState:!1,focused:!1,showPassword:!1,lastValue:"",uForm:{inputAlign:"",clearable:""}}},watch:{valueCom:function(t,e){this.defaultValue=t,t!=e&&"select"==this.type&&this.handleInput({detail:{value:t}})}},computed:{valueCom:function(){return this.value},inputAlignCom:function(){return this.inputAlign||this.uForm.inputAlign||"left"},clearableCom:function(){return"boolean"==typeof this.clearable?this.clearable:"boolean"!=typeof this.uForm.clearable||this.uForm.clearable},inputMaxlength:function(){return Number(this.maxlength)},getStyle:function(){var t={};return t.minHeight=this.height?this.height+"rpx":"textarea"==this.type?this.textareaHeight+"rpx":this.inputHeight+"rpx",t=Object.assign(t,this.customStyle),t},getCursorSpacing:function(){return Number(this.cursorSpacing)},uSelectionStart:function(){return String(this.selectionStart)},uSelectionEnd:function(){return String(this.selectionEnd)}},created:function(){this.$on("onFormItemError",this.onFormItemError),this.defaultValue=this.valueCom},mounted:function(){var t=this,e=this.$u.$parent.call(this,"u-form");e&&Object.keys(this.uForm).map((function(i){t.uForm[i]=e[i]}))},methods:{handleInput:function(t){var e=this,i=t.detail.value;this.trim&&(i=this.$u.trim(i)),this.$emit("input",i),this.$emit("update:modelValue",i),this.defaultValue=i,setTimeout((function(){e.dispatch("u-form-item","onFieldChange",i)}),40)},handleBlur:function(t){var e=this;setTimeout((function(){e.focused=!1}),100),this.$emit("blur",t.detail.value),setTimeout((function(){e.dispatch("u-form-item","onFieldBlur",t.detail.value)}),40)},onFormItemError:function(t){this.validateState=t},onFocus:function(t){this.focused=!0,this.$emit("focus")},onConfirm:function(t){this.$emit("confirm",t.detail.value)},onClear:function(t){this.$emit("input",""),this.$emit("update:modelValue","")},inputClick:function(){this.$emit("click")}}};e.default=a},"70c6":function(t,e,i){"use strict";var n=i("9dce"),o=i.n(n);o.a},"75ed":function(t,e,i){"use strict";i.r(e);var n=i("7003"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"76ac":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uRate:i("89fc").default,uInput:i("64c8").default,uGap:i("111d").default,vkDataFloatBall:i("80c3").default,vkDataLoading:i("be34").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"app app-bg"},[i("v-uni-view",{staticStyle:{height:"20rpx"}}),i("v-uni-view",{staticClass:"mx-2 bg-white rounded-20 py-5 px-2"},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",[t._v("星级评价：")]),i("u-rate",{attrs:{count:5,current:t.form1.score,default_image:t.default_score,select_image:t.score,size:60},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.clickScore.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"mt-5 rounded-20",staticStyle:{padding:"24rpx","background-color":"#F7F7F7"}},[i("u-input",{attrs:{type:"textarea",placeholder:"请输入文字评价",maxlength:"200",customStyle:t.remarkCustomStyle},model:{value:t.form1.content,callback:function(e){t.$set(t.form1,"content",e)},expression:"form1.content"}})],1),i("v-uni-view",{staticClass:"pt-4 flex align-center flex-wrap"},[t._l(t.form1.images,(function(e,n){return i("v-uni-view",{key:n,staticClass:"upload-image-size position-relative"},[i("v-uni-image",{staticClass:"upload-image-size",attrs:{src:e}}),i("v-uni-image",{staticClass:"delete-icon-size",attrs:{src:t.del_icon},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.form1.images.splice(n,1)}}})],1)})),t.form1.images.length<9?i("v-uni-image",{staticClass:"upload-image-size",attrs:{src:t.add_img_icon},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.uploadImage.apply(void 0,arguments)}}}):t._e()],2)],1),t.complete?i("v-uni-view",{staticClass:"px-3",staticStyle:{"margin-top":"100rpx","text-align":"center"}},[i("v-uni-view",{staticClass:"save-btn-main",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1):t._e(),i("u-gap",{attrs:{height:"100","bg-color":"#f3f3f3"}}),i("vk-data-float-ball",{attrs:{"scroll-top":t.scrollTop}}),i("vk-data-loading",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},a=[]},"9dce":function(t,e,i){var n=i("a5b0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("26dc4462",n,!0,{sourceMap:!1,shadowMode:!1})},a5b0:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".card[data-v-119a773c]{display:block}.card .header[data-v-119a773c]{background-color:#fff;display:block;border-radius:%?20?%;margin:0 %?20?%;padding:%?20?%;position:relative;display:flex;flex-direction:column;align-items:center}.card .header .image[data-v-119a773c]{width:%?100?%;height:%?100?%;position:absolute;top:%?-50?%;border-radius:%?20?%}.card .header .sku-name[data-v-119a773c]{margin-top:%?30?%;color:#606266;font-size:%?24?%}.card .content[data-v-119a773c]{background-color:#fff;display:block;border-radius:%?20?%;margin:0 %?20?%;border-top:%?1?% dashed #f3f3f3;padding:%?20?%;position:relative}.card .content .centre-tips[data-v-119a773c]{position:absolute;color:#909399;top:%?-18?%;font-size:%?24?%;width:100%;text-align:center}.card .content .upload[data-v-119a773c]{border:%?1?% dashed #f3f3f3;border-radius:%?20?%}.upload-image-size[data-v-119a773c]{width:%?160?%;height:%?160?%;border-radius:%?16?%;margin:0 %?20?% %?20?% 0}.delete-icon-size[data-v-119a773c]{position:absolute;right:%?-10?%;top:%?-10?%;width:%?30?%;height:%?30?%}",""]),t.exports=e},cbfc:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uIcon:i("d1bb").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-input",class:{"u-input--border":t.border,"u-input--error":t.validateState},style:{padding:t.padding?t.padding:"0 "+(t.border?20:0)+"rpx",borderColor:t.borderColor,textAlign:t.inputAlignCom,backgroundColor:t.backgroundColor},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.inputClick.apply(void 0,arguments)}}},["textarea"==t.type?i("v-uni-textarea",{staticClass:"u-input__input u-input__textarea",style:[t.getStyle],attrs:{value:t.defaultValue,placeholder:t.placeholder,placeholderStyle:t.placeholderStyle,disabled:t.disabled,maxlength:t.inputMaxlength,fixed:t.fixed,focus:t.focus,autoHeight:t.autoHeight,"selection-end":t.uSelectionEnd,"selection-start":t.uSelectionStart,"cursor-spacing":t.getCursorSpacing,"show-confirm-bar":t.showConfirmbar,"adjust-position":t.adjustPosition},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleInput.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBlur.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}):i("v-uni-input",{staticClass:"u-input__input",style:[t.getStyle],attrs:{type:"password"==t.type?"text":t.type,value:t.defaultValue,password:"password"==t.type&&!t.showPassword,placeholder:t.placeholder,placeholderStyle:t.placeholderStyle,disabled:t.disabled||"select"===t.type,maxlength:t.inputMaxlength,focus:t.focus,confirmType:t.confirmType,"cursor-spacing":t.getCursorSpacing,"selection-end":t.uSelectionEnd,"selection-start":t.uSelectionStart,"show-confirm-bar":t.showConfirmbar,"adjust-position":t.adjustPosition},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBlur.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"u-input__right-icon u-flex"},[t.clearableCom&&""!=t.valueCom&&t.focused?i("v-uni-view",{staticClass:"u-input__right-icon__clear u-input__right-icon__item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClear.apply(void 0,arguments)}}},[i("u-icon",{attrs:{size:"32",name:"close-circle-fill",color:"#c0c4cc"}})],1):t._e(),t.passwordIcon&&"password"==t.type?i("v-uni-view",{staticClass:"u-input__right-icon__clear u-input__right-icon__item"},[i("u-icon",{attrs:{size:"32",name:t.showPassword?"eye-fill":"eye",color:"#c0c4cc"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPassword=!t.showPassword}}})],1):t._e(),"select"==t.type?i("v-uni-view",{staticClass:"u-input__right-icon--select u-input__right-icon__item",class:{"u-input__right-icon--select--reverse":t.selectOpen}},[i("u-icon",{attrs:{name:"arrow-down-fill",size:"26",color:"#c0c4cc"}})],1):t._e()],1)],1)},a=[]},d186:function(t,e,i){"use strict";var n=i("1424"),o=i.n(n);o.a},f33a:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".u-input[data-v-f16159f4]{position:relative;flex:1;display:flex;flex-direction:row}.u-input__input[data-v-f16159f4]{font-size:%?28?%;color:#303133;flex:1}.u-input__textarea[data-v-f16159f4]{width:auto;font-size:%?28?%;color:#303133;padding:%?10?% 0;line-height:normal;flex:1}.u-input--border[data-v-f16159f4]{border-radius:%?6?%;border-radius:4px;border:1px solid #dcdfe6}.u-input--error[data-v-f16159f4]{border-color:#fa3534!important}.u-input__right-icon__item[data-v-f16159f4]{margin-left:%?10?%}.u-input__right-icon--select[data-v-f16159f4]{transition:-webkit-transform .4s;transition:transform .4s;transition:transform .4s,-webkit-transform .4s}.u-input__right-icon--select--reverse[data-v-f16159f4]{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}",""]),t.exports=e}}]);